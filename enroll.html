<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enrollment - ZANC ZamShield Group Life Insurance</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
    <script src="https://www.paypal.com/sdk/js?client-id=YOUR_PAYPAL_CLIENT_ID&currency=USD"></script>
</head>
<body class="bg-gray-100 text-gray-900 font-sans">
    <header class="bg-blue-900 text-white shadow-lg">
        <nav class="container mx-auto px-6 py-3 flex justify-between items-center">
            <div class="flex items-center">
                <img src="images/zanc_logo.png" alt="ZamShield Logo" class="h-12 w-12 mr-3">
                <a href="index.html" class="text-2xl font-bold">ZamShield</a>
            </div>
            <div class="block lg:hidden">
                <button id="nav-toggle" class="text-white focus:outline-none">
                    <svg class="h-6 w-6 fill-current" viewBox="0 0 24 24">
                        <path d="M4 6h16M4 12h16m-7 6h7" />
                    </svg>
                </button>
            </div>
            <div class="hidden lg:flex lg:items-center">
                <a href="index.html#about" class="text-lg hover:text-blue-300 mx-3">About</a>
                <a href="index.html#coverage" class="text-lg hover:text-blue-300 mx-3">Coverage</a>
                <a href="index.html#contact" class="text-lg hover:text-blue-300 mx-3">Contact</a>
                <a href="index.html#calculator" class="text-lg hover:text-blue-300 mx-3">Calculator</a>
            </div>
        </nav>
        <div id="nav-content" class="hidden lg:hidden">
            <ul class="px-2 pt-2 pb-4">
                <li><a href="index.html#about" class="block text-lg px-2 py-1 hover:bg-blue-700">About</a></li>
                <li><a href="index.html#coverage" class="block text-lg px-2 py-1 hover:bg-blue-700">Coverage</a></li>
                <li><a href="index.html#contact" class="block text-lg px-2 py-1 hover:bg-blue-700">Contact</a></li>
                <li><a href="index.html#calculator" class="block text-lg px-2 py-1 hover:bg-blue-700">Calculator</a></li>
            </ul>
        </div>
    </header>

    <main>
        <section id="enroll" class="py-20 bg-white">
            <div class="container mx-auto px-6">
                <h2 class="text-3xl font-bold text-center mb-8">Enroll Now</h2>
                <div class="max-w-2xl mx-auto">
                    <form name="enrollment" method="POST" data-netlify="true" id="enrollmentForm" class="bg-gray-100 shadow-md rounded px-8 pt-6 pb-8 mb-4">
                        <input type="hidden" name="form-name" value="enrollment">
                        <div class="mb-4">
                            <label class="block text-gray-700 text-sm font-bold mb-2" for="fullName">
                                Full Name
                            </label>
                            <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="fullName" name="fullName" type="text" placeholder="John Doe" required>
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700 text-sm font-bold mb-2" for="dob">
                                Date of Birth
                            </label>
                            <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="dob" name="dob" type="date" required>
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700 text-sm font-bold mb-2" for="address">
                                Address
                            </label>
                            <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="address" name="address" type="text" placeholder="123 Main St" required>
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700 text-sm font-bold mb-2" for="city">
                                City
                            </label>
                            <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="city" name="city" type="text" placeholder="City" required>
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700 text-sm font-bold mb-2" for="state">
                                State
                            </label>
                            <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="state" name="state" type="text" placeholder="State" required>
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700 text-sm font-bold mb-2" for="zip">
                                Zip Code
                            </label>
                            <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="zip" name="zip" type="text" placeholder="Zip Code" required>
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700 text-sm font-bold mb-2" for="email">
                                Email
                            </label>
                            <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="email" name="email" type="email" placeholder="john@example.com" required>
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700 text-sm font-bold mb-2" for="phone">
                                Phone Number
                            </label>
                            <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="phone" name="phone" type="tel" placeholder="(123) 456-7890" required>
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700 text-sm font-bold mb-2" for="coverageType">
                                Coverage Type
                            </label>
                            <select class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="coverageType" name="coverageType" required>
                                <option value="">Select coverage type</option>
                                <option value="adult-sacramento">Adult - Sacramento</option>
                                <option value="adult-outstate">Adult - Out of State</option>
                                <option value="child">Child (below 21 years)</option>
                            </select>
                        </div>
                        <div class="mb-6">
                            <label class="block text-gray-700 text-sm font-bold mb-2" for="paymentMethod">
                                Preferred Payment Method
                            </label>
                            <select class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="paymentMethod" name="paymentMethod" required>
                                <option value="">Select payment method</option>
                                <option value="creditCard">Credit Card</option>
                                <option value="zelle">Zelle</option>
                                <option value="directDeposit">Direct Deposit</option>
                            </select>
                        </div>
                        <div id="paypal-button-container" class="hidden"></div>
                        <div class="flex items-center justify-between">
                            <button id="submitEnrollment" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition duration-300 ease-in-out" type="button">
                                Submit Enrollment
                            </button>
                        </div>
                    </form>
                    <div id="successMessage" class="hidden bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative" role="alert">
                        <strong class="font-bold">Success!</strong>
                        <span class="block sm:inline">Your enrollment has been submitted successfully.</span>
                    </div>
                    <div id="errorMessage" class="hidden bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert">
                        <strong class="font-bold">Error!</strong>
                        <span class="block sm:inline">There was an error submitting the form. Please try again.</span>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-blue-900 text-white py-8">
        <div class="container mx-auto px-6 text-center">
            <p>&copy; 2024 ZANC ZamShield Group Life Insurance. All rights reserved.</p>
        </div>
    </footer>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        var form = document.getElementById('enrollmentForm');
        var successMessage = document.getElementById('successMessage');
        var errorMessage = document.getElementById('errorMessage');
        var navToggle = document.getElementById('nav-toggle');
        var navContent = document.getElementById('nav-content');
        var submitButton = document.getElementById('submitEnrollment');
        var paypalButtonContainer = document.getElementById('paypal-button-container');

        navToggle.addEventListener('click', function() {
            navContent.classList.toggle('hidden');
        });

        submitButton.addEventListener('click', function() {
            paypalButtonContainer.classList.remove('hidden');
            paypal.Buttons({
                createOrder: function(data, actions) {
                    return actions.order.create({
                        purchase_units: [{
                            amount: {
                                value: '100.00' // Update with the correct amount
                            }
                        }]
                    });
                },
                onApprove: function(data, actions) {
                    return actions.order.capture().then(function(details) {
                        // After payment is approved, submit the form data to Netlify
                        var formData = new FormData(form);
                        fetch('/', {
                            method: 'POST',
                            headers: { "Content-Type": "application/x-www-form-urlencoded" },
                            body: new URLSearchParams(formData).toString()
                        })
                        .then(function(response) {
                            if (response.ok) {
                                form.reset();
                                form.style.display = 'none';
                                successMessage.classList.remove('hidden');
                                errorMessage.classList.add('hidden');
                            } else {
                                errorMessage.classList.remove('hidden');
                                console.error('Error:', response.statusText);
                            }
                        })
                        .catch(function(error) {
                            errorMessage.classList.remove('hidden');
                            console.error('Error:', error);
                        });
                    });
                }
            }).render('#paypal-button-container');
        });
    });
    </script>
</body>
</html>
